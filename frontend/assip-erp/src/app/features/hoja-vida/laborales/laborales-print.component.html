<!-- Ocultar .no-print en impresión -->
<style>
  @media print { .no-print { display: none !important; } }
</style>

<div class="print-container">
  <div class="print-actions no-print">
    <a class="btn" [routerLink]="['/hoja-vida/laborales']">Regresar</a>
    <button class="btn btn--print" (click)="imprimir()">Imprimir</button>
  </div>

  <header class="print-header">
    <img class="logo" [src]="logoUrl()" alt="Logo empresa" />
    <div class="titles">
      <div class="empresa-sigla" *ngIf="empresaSigla()">{{ empresaSigla() }}</div>
      <div class="empresa-nit" *ngIf="empresaNit()">NIT: {{ empresaNit() }}</div>
      <h1>Información laboral (cortes por persona)</h1>
      <div class="meta"><span class="date">{{ nowStr() }}</span></div>
    </div>
  </header>

  <hr class="hr-print" />

  <div *ngIf="loading()" class="loading">Cargando…</div>
  <div *ngIf="!loading() && bloques().length === 0" class="empty-global">
    No hay personas con información laboral registrada.
  </div>

  <section *ngFor="let b of bloques()" class="person-block">
    <div class="cut-label">Encabezado del corte:</div>
    <div class="person-header">
      <div class="person-name">{{ personaNombre(b.persona) }}</div>
      <div class="person-doc">{{ personaDocumento(b.persona) }}</div>
    </div>

    <div class="cut-label">Cuerpo del corte:</div>
    <table class="print-table">
      <thead>
      <tr>
        <th>Nombre empresa</th>
        <th>Dirección</th>
        <th style="width:110px;">País</th>
        <th style="width:140px;">Departamento</th>
        <th style="width:140px;">Ciudad</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>{{ b.laboral.nombreEmpresa || '' }}</td>
        <td>{{ b.laboral.direccion || '' }}</td>
        <td>{{ nomPais(b.laboral.idPais) }}</td>
        <td>{{ nomDpto(b.laboral.idDepartamento) }}</td>
        <td>{{ nomCiudad(b.laboral.idCiudad) }}</td>
      </tr>
      </tbody>
    </table>

    <table class="print-table" style="margin-top:6px;">
      <thead>
      <tr>
        <th style="width:110px;">Teléfono</th>
        <th style="width:130px;">Celular</th>
        <th>Correo</th>
        <th style="width:160px;">Tipo empresa</th>
        <th style="width:160px;">Tipo contrato</th>
        <th style="width:120px;">Jornada</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td class="code">{{ b.laboral.telefonoEmpresa || '' }}</td>
        <td class="code">{{ b.laboral.celularEmpresa || '' }}</td>
        <td>{{ b.laboral.correoEmpresa || '' }}</td>
        <td>{{ nomTipoEmpresa(b.laboral.codigoTipoEmpresa) }}</td>
        <td>{{ nomTipoContrato(b.laboral.codigoTipoContrato) }}</td>
        <td>{{ nomJornada(b.laboral.codigoJornada) }}</td>
      </tr>
      </tbody>
    </table>

    <table class="print-table" style="margin-top:6px;">
      <thead>
      <tr>
        <th>Nombre contacto</th>
        <th style="width:140px;">Celular contacto</th>
        <th style="width:150px;">Fecha vinculación</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>{{ b.laboral.nombreContacto || '' }}</td>
        <td class="code">{{ b.laboral.celularContacto || '' }}</td>
        <td>{{ b.laboral.fechaVinculacion || '' }}</td>
      </tr>
      </tbody>
    </table>

    <hr class="section-hr" />
  </section>
</div>

<div id="pageFooter" class="page-footer no-screen">
  <span class="page-text"></span>
</div>
