<div class="card">
  <div class="card-header">
    <h2>Datos Personales</h2>
    <div class="actions">
      <a class="btn--new" [routerLink]="['/hoja-vida/datos-personales/new']">Nuevo</a>
      <button class="btn--print" (click)="imprimir()">Imprimir</button>
      <app-datos-personales-export-button [q]="q.value"></app-datos-personales-export-button>
    </div>
  </div>

  <div class="card-body">
    <div class="toolbar">
      <input [formControl]="q" type="text" placeholder="Buscar..." />
      <button class="btn" (click)="buscar()" [disabled]="loading">Buscar</button>
    </div>

    <table class="table">
      <thead>
      <tr>
        <th style="width:150px;">Tipo documento</th>
        <th style="width:160px;">Documento</th>
        <th>Nombres</th>
        <th>Apellidos</th>
        <th style="width:120px;">F. nacimiento</th>
        <th style="width:150px; text-align:center;">Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let p of (page?.content || [])">
        <td>{{ td(p.tipoDocumento) }}</td>
        <td>
          {{ p.documento }}<ng-container *ngIf="p.digitoVerificacion">-{{ p.digitoVerificacion }}</ng-container>
        </td>
        <td>{{ p.nombres }}</td>
        <td>{{ p.primerApellido }}</td>
        <td>{{ toYMD(p.fechaNacimiento) }}</td>
        <td class="acciones">
          <button class="btn sm success" (click)="onEdit(p)">Editar</button>
          <button class="btn sm danger" (click)="onDelete(p)" [disabled]="loading">Eliminar</button>
        </td>
      </tr>
      <tr *ngIf="!(page?.content?.length) && !loading">
        <td colspan="6" class="empty">Sin resultados</td>
      </tr>
      </tbody>
    </table>

    <div class="toolbar" *ngIf="page && page.totalPages > 0">
      <button class="btn sm" [disabled]="page.first" (click)="onPageChange(page.number - 1)">Anterior</button>
      <span>PÃ¡gina {{ page.number + 1 }} de {{ page.totalPages }}</span>
      <button class="btn sm" [disabled]="page.last" (click)="onPageChange(page.number + 1)">Siguiente</button>
    </div>
  </div>
</div>
