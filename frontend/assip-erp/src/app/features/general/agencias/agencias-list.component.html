<div class="list-header">
  <input
    type="text"
    [ngModel]="q()"
    (ngModelChange)="q.set($event)"
    placeholder="Buscar por nombre…"
    (keyup.enter)="load()"
  />
  <button class="btn primary" (click)="load()">Buscar</button>
  <a class="btn--new" [routerLink]="['/general/agencias/new']">Nuevo</a>
</div>

<table class="tabla">
  <thead>
  <tr>
    <th>Código</th>
    <th>Nombre</th>
    <th>Sigla</th>
    <th class="col-actions">Acciones</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let a of data()">
    <td>{{ a.codigoAgencia }}</td>
    <td>{{ a.nombreAgencia }}</td>
    <td>{{ a.siglaAgencia }}</td>
    <td class="col-actions">
      <div class="actions">
        <button class="btn sm success" (click)="editar(a.idAgencia)">Editar</button>
        <button class="btn sm danger" (click)="eliminar(a.idAgencia)">Eliminar</button>
      </div>
    </td>
  </tr>
  <tr *ngIf="!loading() && data().length === 0">
    <td colspan="4" class="empty">Sin resultados</td>
  </tr>
  </tbody>
</table>

<div class="msg error" *ngIf="error()">{{ error() }}</div>
