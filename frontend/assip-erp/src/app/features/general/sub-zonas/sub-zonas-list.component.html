<div class="card">
  <div class="card-header">
    <h2>Sub Zonas</h2>
    <div class="actions">
      <a class="btn--new" [routerLink]="['/general/sub-zonas/new']">Nuevo</a>
      <button class="btn--print" (click)="imprimir()">Imprimir</button>
    </div>
  </div>

  <div class="card-body">
    <div class="toolbar">
      <select [(ngModel)]="idZonaFilter">
        <option [ngValue]="null">-- Todas las Zonas --</option>
        <option *ngFor="let z of zonas()" [ngValue]="z.idZona">{{ z.nombreZona }} ({{ z.codigoZona }})</option>
      </select>

      <input
        [ngModel]="q()"
        (ngModelChange)="q.set($event)"
        type="text"
        placeholder="Buscar por nombre o código..."
      />
      <button class="btn" (click)="buscar()" [disabled]="loading()">Buscar</button>
    </div>

    <table class="table">
      <colgroup>
        <col style="width: 160px;"> <!-- Zona -->
        <col style="width: 100px;"> <!-- Código -->
        <col>                       <!-- Nombre -->
        <col>                       <!-- Comentario -->
        <col style="width: 160px;"> <!-- Acciones -->
      </colgroup>
      <thead>
      <tr>
        <th>Zona</th>
        <th>Código</th>
        <th>Nombre</th>
        <th>Comentario</th>
        <th class="th-acciones">Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let s of subZonas()">
        <td>{{ s.nombreZona }}</td>
        <td>{{ s.codigoSubZona }}</td>
        <td>{{ s.nombreSubZona }}</td>
        <td>{{ s.comentarioSubZona }}</td>
        <td class="acciones">
          <button class="btn sm success" (click)="editar(s.idSubZona)">Editar</button>
          <button class="btn sm danger" (click)="eliminar(s.idSubZona)" [disabled]="loading()">Eliminar</button>
        </td>
      </tr>
      <tr *ngIf="!subZonas().length && !loading()">
        <td colspan="5" class="empty">Sin resultados</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
