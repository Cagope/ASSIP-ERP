<div class="wrap">
  <header class="auth-header" aria-label="Encabezado de cambio de contraseña">
    <img
      src="assets/logo-web.png"
      width="200" height="60"
      alt="Logo de la empresa"
      class="logo"
    />
    <h1 class="auth-title">Cambiar contraseña</h1>
    <p class="hint">Por seguridad, actualiza tu contraseña antes de continuar.</p>
  </header>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <div class="form-row">
      <label>Contraseña actual</label>
      <input type="password" formControlName="passwordActual" autocomplete="current-password">
      <small *ngIf="f.passwordActual.touched && f.passwordActual.invalid">Requerida (mínimo 4).</small>
    </div>

    <div class="form-row">
      <label>Nueva contraseña</label>
      <input type="password" formControlName="passwordNueva" autocomplete="new-password">
      <small *ngIf="f.passwordNueva.touched && f.passwordNueva.invalid">Requerida (mínimo 8).</small>
    </div>

    <div class="form-row">
      <label>Confirmar nueva contraseña</label>
      <input type="password" formControlName="passwordConfirm" autocomplete="new-password">
      <small *ngIf="f.passwordConfirm.touched && f.passwordConfirm.invalid">Requerida (mínimo 8).</small>
    </div>

    <div class="msg error" *ngIf="!loading() && errorMsg()">{{ errorMsg() }}</div>
    <div class="msg ok" *ngIf="!loading() && okMsg()">{{ okMsg() }}</div>

    <div class="actions">
      <button type="submit" [disabled]="loading()">Cambiar contraseña</button>
      <a routerLink="/login">Ir al login</a>
    </div>
  </form>
</div>
